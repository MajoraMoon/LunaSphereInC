# These comments are from me, not autogenerated. I like it for cleanness

# Minimum Version of CMake
cmake_minimum_required(VERSION 3.15)


# Projectname and Languaged used
project(HelloWorld C)


# set C standards..
set(CMAKE_C_STANDARD 11)
set(CMAKE_C_STANDARD_REQUIRED True)



# include "include" directories (cool)
include_directories(${CMAKE_SOURCE_DIR}/include)


# Set the GLFW path
set(GLFW_DIR ${CMAKE_SOURCE_DIR}/lib/glfw-3.4)


# Override GLFW options to disable unnecessary builds (It works so don't blame me
# please, these files don't exist anymore)
set(GLFW_BUILD_DOCS OFF CACHE BOOL "" FORCE)
set(GLFW_BUILD_EXAMPLES OFF CACHE BOOL "" FORCE)
set(GLFW_BUILD_TESTS OFF CACHE BOOL "" FORCE)


# GLFW is added as a subdirectory (makefile)
add_subdirectory(${GLFW_DIR} ${CMAKE_BINARY_DIR}/glfw_build)


# Add glad include directories
include_directories(${CMAKE_SOURCE_DIR}/lib/glad/include)


# all C-Files in the main src-directory (so not from external libaries)
file(GLOB SOURCES "src/*.c")


# set GLAD source file
set(GLAD_SRC ${CMAKE_SOURCE_DIR}/lib/glad/src/glad.c)

# Set runtime output directory
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/bin)


add_executable(app ${SOURCES} ${GLAD_SRC})

target_link_libraries(app PRIVATE glfw)


if(WIN32)
  #  set_target_properties(app PROPERTIES LINK_FLAGS "-mwindows")

endif()

